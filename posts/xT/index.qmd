---
title: "Italian xT"
author: "Gareth Edwards"
date: "2024-08-15"
categories: [Football, xT, Serie A]
---

```{r}
library(knitr)
```

```{r option-chunk, include=FALSE}
knitr::opts_chunk$set(echo=FALSE)
knitr::opts_chunk$set(warning=FALSE)
knitr::opts_chunk$set(message = FALSE)

```

# Introduction

Expected threat, or xT, is a concept widely spoken, widely used and already well known. To hop onto the trend, I made use of the "Calculating xT (position-based)" tutorial presented by soccermatics (https://soccermatics.readthedocs.io/en/latest/gallery/lesson4/plot_ExpectedThreat.html).

In my short project I made use of the Serie A (2015/2016) dataset provided by statsbomb. I extracted data from the top four teams of that year (Inter Milan, Juventus, Napoli, Roma) and compared it to four middle table teams for that season (Lazio, Fiorentina, Empoli, Genoa) across a few sector-based metrics that can be visualized using heatmaps (goal frequency per sector, ball movement rate per sector, shot frequency per sector, xG per sector and xT)

The aim is to look for any visible differences that make top teams different to middle table teams. Perhaps in the plots we see visible areas where middle table teams can make the jump to top table teams, based on their style of attack.

# Ball Movement

One fundamental part of football is ball movement. Each team has it's own pattern in terms of how the ball is moved. Some enjoy play on the flanks and rely more on their wingers to put in crosses, other teams generate more central attacks and make use of creative midfielders while others (although not so often anymore) may use longer passes to move the ball forward quicker, or to overcome a high press. Teams can also change their style from game to game as they adapt to their opponents.

These aspects one would expect to be able to see on a visual, by plotting where on the pitch each team commonly moves the ball. Below is a plot showing the ball movement heatmap of the eight teams we are investigating.

## Ball Movement Heatmaps {style="text-align: center"}

![](plots/movement map/legend.png){fig-align="center"}

```{r movement_plots}
#| layout-ncol: 4
#| layout-nrow: 2
#| column: page
#| output: true
#| fig-width: 40
#| fig-height: 32
#| grid-template-columns: repeat(4, 1fr)

knitr::include_graphics("plots/movement map/Juventus_movement_map.png")
knitr::include_graphics("plots/movement map/Napoli_movement_map.png")
knitr::include_graphics("plots/movement map/AS Roma_movement_map.png")
knitr::include_graphics("plots/movement map/Inter Milan_movement_map.png")
knitr::include_graphics("plots/movement map/Fiorentina_movement_map.png")
knitr::include_graphics("plots/movement map/Lazio_movement_map.png")
knitr::include_graphics("plots/movement map/Genoa_movement_map.png")
knitr::include_graphics("plots/movement map/Empoli_movement_map.png")

```

<div class=movement_plot_caption>

Top four plots belong to the top four teams (arranged in order from 1st to 4th going left to right). The bottom row of the plot are the four mid-table clubs in order of their final league positions (5th, 8th, 10th and 11th)

</div>

<div class=movement_key_points>

Here are key observations that stand out when analysing this plot:

-   Darker squares in the Juventus and Napoli (placed 1st and 2nd in the league) heatmaps compared to the other clubs. This is an indication of a higher frequency of ball movement.

-   The pattern of play is similar amongst all teams in terms of where ball movement happens most (center and then wide).

-   Napoli and Inter Milan show a stronger favoritism to move the ball toward the left side of the field.

-   Juventus seem to utilize both flanks equally.

-   Juventus, Napoli and Empoli have darker middle squares compared to the others, thus showing a stronger reliance on their central midfielders.

</div>

# Shot Frequency

Ball movement is only the half of it, if you don't shoot, you won't score. Below we visualize plots of shot frequency per sector and we compare the heatmaps between each team.

```{r shot_plots}
#| layout-ncol: 4
#| layout-nrow: 2
#| column: page
#| output: true
#| fig-width: 40
#| fig-height: 32
#| grid-template-columns: repeat(4, 1fr)

knitr::include_graphics("plots/shot frequency/Juventus_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Napoli_shot_freq.png")
knitr::include_graphics("plots/shot frequency/AS Roma_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Inter Milan_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Fiorentina_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Lazio_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Genoa_shot_freq.png")
knitr::include_graphics("plots/shot frequency/Empoli_shot_freq.png")
```

Key observations:
